# Django Online Judge System

ä¸€ä¸ªåŸºäºDjangoå¼€å‘çš„åœ¨çº¿è¯„æµ‹ç³»ç»Ÿ(OJ)ï¼Œæ”¯æŒå¤šç§ç¼–ç¨‹è¯­è¨€çš„ä»£ç æäº¤å’Œè¯„æµ‹ã€‚

## âœ¨ ä¸»è¦ç‰¹æ€§

### ğŸ¯ æ ¸å¿ƒåŠŸèƒ½
- **é¢˜ç›®ç®¡ç†**: æ”¯æŒé¢˜ç›®çš„å¢åˆ æ”¹æŸ¥ï¼ŒMarkdownæ ¼å¼é¢˜ç›®å¯¼å…¥
- **ä»£ç è¯„æµ‹**: æ”¯æŒPythonã€C++ã€Cã€Javaã€JavaScriptç­‰å¤šç§è¯­è¨€
- **æäº¤è®°å½•**: å®Œæ•´çš„æäº¤å†å²å’Œè¯„æµ‹ç»“æœå±•ç¤º
- **ç”¨æˆ·ç³»ç»Ÿ**: ç”¨æˆ·æ³¨å†Œã€ç™»å½•ã€ä¸ªäººä¿¡æ¯ç®¡ç†
- **æ’è¡Œæ¦œ**: ç”¨æˆ·ç§¯åˆ†å’Œæ’åç»Ÿè®¡

### ğŸš€ é«˜çº§åŠŸèƒ½
- **æ™ºèƒ½ä»£ç æ¨¡æ¿**: å…¨å±€æ¨¡æ¿å’Œé¢˜ç›®ä¸“ç”¨æ¨¡æ¿ç³»ç»Ÿ
- **å®æ—¶æœç´¢**: é¢˜ç›®åˆ—è¡¨å®æ—¶æœç´¢åŠŸèƒ½
- **ä»£ç ç¼–è¾‘å™¨**: é›†æˆCodeMirrorï¼Œæ”¯æŒè¯­æ³•é«˜äº®å’Œå¤šä¸»é¢˜
- **ç«èµ›ç³»ç»Ÿ**: æ”¯æŒåˆ›å»ºå’Œç®¡ç†ç¼–ç¨‹ç«èµ›
- **ç³»ç»Ÿç›‘æ§**: å®æ—¶ç³»ç»ŸçŠ¶æ€ç›‘æ§
- **å®‰å…¨æ²™ç®±**: è·¨å¹³å°ä»£ç æ‰§è¡Œæ²™ç®±ç¯å¢ƒ

### ğŸ¨ ç”¨æˆ·ä½“éªŒ
- **å“åº”å¼è®¾è®¡**: é€‚é…å„ç§å±å¹•å°ºå¯¸
- **ç°ä»£åŒ–UI**: Bootstrap + Font Awesomeå›¾æ ‡
- **æ–°æ‰‹å¼•å¯¼**: äº¤äº’å¼ç”¨æˆ·æŒ‡å—
- **å¿«æ·é”®æ”¯æŒ**: æå‡ç¼–ç æ•ˆç‡
- **ç”¨æˆ·åå¥½**: è‡ªåŠ¨ä¿å­˜ä¸ªäººè®¾ç½®

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### åç«¯
- **Django 4.2**: Webæ¡†æ¶
- **Django REST Framework**: APIå¼€å‘
- **SQLite**: æ•°æ®åº“
- **Celery**: å¼‚æ­¥ä»»åŠ¡é˜Ÿåˆ—

### å‰ç«¯
- **Bootstrap 5**: UIæ¡†æ¶
- **jQuery**: JavaScriptåº“
- **CodeMirror**: ä»£ç ç¼–è¾‘å™¨
- **Font Awesome**: å›¾æ ‡åº“

### è¯„æµ‹ç³»ç»Ÿ
- **å¤šè¯­è¨€æ”¯æŒ**: Python, C++, C, Java, JavaScript
- **Dockerå®¹å™¨**: å®‰å…¨éš”ç¦»çš„ä»£ç æ‰§è¡Œç¯å¢ƒ
- **è¿›ç¨‹æ²™ç®±**: Windows/Linuxè·¨å¹³å°æ”¯æŒ
- **èµ„æºé™åˆ¶**: æ—¶é—´ã€å†…å­˜ã€æ–‡ä»¶å¤§å°é™åˆ¶

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Python 3.8+
- Django 4.2+
- Docker (å¯é€‰ï¼Œç”¨äºå®¹å™¨åŒ–è¯„æµ‹)

### å®‰è£…æ­¥éª¤

#### æ–¹æ³•1ï¼šä½¿ç”¨è™šæ‹Ÿç¯å¢ƒï¼ˆæ¨èï¼‰

**Windowså¼€å‘ç¯å¢ƒï¼š**
```bash
git clone https://github.com/blackjackandLisa/OJ_web.git
cd OJ_web
setup-dev.bat  # è‡ªåŠ¨è®¾ç½®å¼€å‘ç¯å¢ƒ
```

**LinuxæœåŠ¡å™¨éƒ¨ç½²ï¼š**
```bash
git clone https://github.com/blackjackandLisa/OJ_web.git
cd OJ_web
chmod +x deploy-linux.sh
./deploy-linux.sh  # è‡ªåŠ¨éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ
```

**æ‰‹åŠ¨å®‰è£…ï¼š**
```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/blackjackandLisa/OJ_web.git
cd OJ_web

# 2. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv

# 3. æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
# Windows:
venv\Scripts\activate
# Linux/Mac:
source venv/bin/activate

# 4. å®‰è£…ä¾èµ–
pip install -r requirements.txt  # åŸºç¡€ä¾èµ–
# æˆ–
pip install -r requirements-linux.txt  # ç”Ÿäº§ç¯å¢ƒä¾èµ–

# 5. æ•°æ®åº“è¿ç§»
python manage.py migrate

# 6. åˆ›å»ºè¶…çº§ç”¨æˆ·
python manage.py createsuperuser

# 7. åˆ›å»ºé»˜è®¤æ¨¡æ¿
python manage.py create_default_templates

# 8. å¯åŠ¨æœåŠ¡
python manage.py runserver
```

#### æ–¹æ³•2ï¼šä½¿ç”¨Dockerï¼ˆä¸€é”®éƒ¨ç½²ï¼‰

```bash
git clone https://github.com/blackjackandLisa/OJ_web.git
cd OJ_web
docker-compose up -d
```

è®¿é—® `http://localhost:8000` å³å¯ä½¿ç”¨ç³»ç»Ÿã€‚

### Dockeréƒ¨ç½²ï¼ˆå¯é€‰ï¼‰

1. **æ„å»ºè¯„æµ‹é•œåƒ**
```bash
python manage.py build_judger
```

2. **é…ç½®Docker**
åœ¨ `settings.py` ä¸­è®¾ç½®ï¼š
```python
JUDGE_ENGINE = 'docker'
JUDGE_DOCKER_IMAGE = 'oj-judger:latest'
```

## ğŸ“š ä½¿ç”¨æŒ‡å—

### ç®¡ç†å‘˜æ“ä½œ

1. **é¢˜ç›®ç®¡ç†**
   - è¿›å…¥Djangoç®¡ç†åå° `/admin/`
   - åœ¨"é¢˜ç›®"éƒ¨åˆ†æ·»åŠ æ–°é¢˜ç›®
   - æ”¯æŒMarkdownæ ¼å¼å¯¼å…¥

2. **æ¨¡æ¿ç®¡ç†**
   - åˆ›å»ºå…¨å±€ä»£ç æ¨¡æ¿
   - ä¸ºç‰¹å®šé¢˜ç›®é…ç½®ä¸“ç”¨æ¨¡æ¿
   - æ‰¹é‡å¯¼å…¥/å¯¼å‡ºæ¨¡æ¿

3. **ç”¨æˆ·ç®¡ç†**
   - æŸ¥çœ‹ç”¨æˆ·åˆ—è¡¨å’Œç»Ÿè®¡ä¿¡æ¯
   - ç®¡ç†ç”¨æˆ·æƒé™

### æ™®é€šç”¨æˆ·æ“ä½œ

1. **åšé¢˜æµç¨‹**
   - æµè§ˆé¢˜ç›®åˆ—è¡¨
   - æŸ¥çœ‹é¢˜ç›®è¯¦æƒ…
   - é€‰æ‹©ä»£ç æ¨¡æ¿
   - ç¼–å†™ä»£ç å¹¶æäº¤
   - æŸ¥çœ‹è¯„æµ‹ç»“æœ

2. **ä¸ªäººä¸­å¿ƒ**
   - æŸ¥çœ‹ä¸ªäººä¿¡æ¯
   - ä¿®æ”¹å¯†ç 
   - æŸ¥çœ‹æäº¤å†å²
   - æŸ¥çœ‹æ’å

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
django-oj-system/
â”œâ”€â”€ accounts/           # ç”¨æˆ·ç³»ç»Ÿ
â”œâ”€â”€ problems/           # é¢˜ç›®ç®¡ç†
â”œâ”€â”€ submissions/        # æäº¤è®°å½•
â”œâ”€â”€ judge/             # è¯„æµ‹ç³»ç»Ÿ
â”œâ”€â”€ contests/          # ç«èµ›ç³»ç»Ÿ
â”œâ”€â”€ monitor/           # ç³»ç»Ÿç›‘æ§
â”œâ”€â”€ templates/         # æ¨¡æ¿æ–‡ä»¶
â”œâ”€â”€ static/           # é™æ€æ–‡ä»¶
â”œâ”€â”€ media/            # åª’ä½“æ–‡ä»¶
â”œâ”€â”€ docker/           # Dockeré…ç½®
â””â”€â”€ scripts/          # è¾…åŠ©è„šæœ¬
```

## ğŸ”§ é…ç½®è¯´æ˜

### è¯„æµ‹ç³»ç»Ÿé…ç½®

åœ¨ `settings.py` ä¸­å¯ä»¥é…ç½®ï¼š

```python
# è¯„æµ‹å¼•æ“ç±»å‹: 'process' æˆ– 'docker'
JUDGE_ENGINE = 'process'

# Dockeré…ç½®ï¼ˆå¦‚æœä½¿ç”¨Dockerï¼‰
JUDGE_DOCKER_IMAGE = 'oj-judger:latest'
JUDGE_CONTAINER_TIMEOUT = 30

# æ²™ç®±é…ç½®
JUDGE_SANDBOX_DIR = 'sandbox_tmp'
JUDGE_DEFAULT_TIME_LIMIT = 1000  # ms
JUDGE_DEFAULT_MEMORY_LIMIT = 256  # MB
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€ Pull Request

## ğŸ“ å¼€å‘è®¡åˆ’

- [ ] WebSocketå®æ—¶è¯„æµ‹ç»“æœæ¨é€
- [ ] å¤šè¯­è¨€ç•Œé¢æ”¯æŒ
- [ ] é¢˜ç›®éš¾åº¦æ™ºèƒ½è¯„ä¼°
- [ ] ä»£ç ç›¸ä¼¼åº¦æ£€æµ‹
- [ ] ç§»åŠ¨ç«¯é€‚é…ä¼˜åŒ–
- [ ] åˆ†å¸ƒå¼è¯„æµ‹é›†ç¾¤

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ™ è‡´è°¢

- [Django](https://www.djangoproject.com/) - Webæ¡†æ¶
- [Bootstrap](https://getbootstrap.com/) - UIæ¡†æ¶
- [CodeMirror](https://codemirror.net/) - ä»£ç ç¼–è¾‘å™¨
- [Font Awesome](https://fontawesome.com/) - å›¾æ ‡åº“

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š

- æäº¤ Issue
- å‘é€é‚®ä»¶åˆ°: your-email@example.com

---

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™å®ƒä¸€ä¸ªæ˜Ÿæ ‡ï¼